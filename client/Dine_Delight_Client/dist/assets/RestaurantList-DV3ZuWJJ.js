import{r as o,j as e,A as m}from"./index-Brk7qNXk.js";import{a as p}from"./axiosService-lkbGS7qO.js";import{u as y,P as b}from"./usePaginateState-b6m60dwW.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./logout-CXkILSTK.js";import"./toaster-CS37tbY2.js";const N=({_id:c,restaurantName:a,email:l,address:n,isListed:r})=>{const[t,s]=o.useState(r),i=()=>{s(!t),p.patch(m+`/list_restaurant/${c}`).catch(d=>console.log(d))};return e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a}),e.jsx("td",{className:"px-6 py-4",children:l}),e.jsx("td",{className:"px-6 py-4",children:n??"N/A"}),e.jsx("td",{className:"px-6 py-4",children:"Open"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:i,className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full ${t?"bg-green-500":"bg-red-500"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-white transition ${t?"":"translate-x-full"}`})]})})})]})},f=()=>{const[c,a]=o.useState([]),[l,n]=o.useState([]),{currentPage:r,setCurrentPage:t,pageSize:s,setPageSize:i,itemsPerPage:d,setItemsPerPage:u}=y();return o.useEffect(()=>{p.get(m+"/restaurants",{params:{page:r}}).then(({data:x})=>{const{restaurants:h,count:g,limit:j}=x;a(h),n(h),u(j),i(g)}).catch(x=>console.log(x))},[a,r]),{restaurants:c,setRestaurants:a,filteredRestaurants:l,setFilteredRestaurants:n,setCurrentPage:t,currentPage:r,pageSize:s,itemsPerPage:d}},A=()=>{const{restaurants:c,filteredRestaurants:a,setCurrentPage:l,currentPage:n,pageSize:r,itemsPerPage:t}=f();return c.length?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"mb-2 text-xl font-semibold ",children:"Restaurants"}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg h-screen ",children:[e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Restaurant name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"email"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Address"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"status"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:a.map(s=>o.createElement(N,{...s,key:s._id}))})]}),e.jsx(b,{currentPage:n,totalCount:r,itemsPerPage:t,onPageChange:s=>l(s)})]})]}):e.jsx("h1",{className:"mb-2 text-xl font-semibold ",children:"No Restaurants"})};export{A as default};
