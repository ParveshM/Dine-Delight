import{i as u,r as g,j as r}from"./index-Brk7qNXk.js";import{l as y}from"./index-DS0wteeP.js";/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=u("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);async function x(s){try{return(await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${s}.json?access_token=pk.eyJ1IjoicGFydmVzaDAwMSIsImEiOiJjbHRrM2tpeWgwbmV5Mmlxd2VqMzRtcDQ1In0.gFVqoe2LjhNrIQCcly0EnA`)).json()).features}catch(o){throw console.error("There was an error while fetching places:",o),o}}const f=({handleManualInputChange:s,setFormData:o,searchLocation:c})=>{const[a,n]=g.useState([]),l=e=>{s(e),p(e.target.value)},p=async e=>{const t=await x(e);n(t)},d=e=>{const t=e.place_name.split(",")[0],h=e.center[1],m=e.center[0];o(i=>({...i,searchLocation:t,location:{...i.location,coordinates:[m,h]}})),n([])};return r.jsxs(r.Fragment,{children:[r.jsx(y.DebounceInput,{type:"text",name:"searchLocation",placeholder:"search....",minLength:1,debounceTimeout:500,value:c,onChange:l,className:"w-full py-3 px-4 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("ul",{className:"mt-2 w-full bg-white shadow-lg rounded-lg overflow-hidden",children:a==null?void 0:a.map((e,t)=>r.jsx("li",{onClick:()=>d(e),className:"px-4 py-3 cursor-pointer hover:bg-gray-100",children:e.place_name},t))})]})},I=async(s,o)=>{var c;try{const n=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${s},${o}.json?access_token=pk.eyJ1IjoicGFydmVzaDAwMSIsImEiOiJjbHRrM2tpeWgwbmV5Mmlxd2VqMzRtcDQ1In0.gFVqoe2LjhNrIQCcly0EnA`)).json();return(c=n==null?void 0:n.features[0])==null?void 0:c.place_name}catch(a){console.log("errror",a)}};export{f as A,j as M,I as g};
