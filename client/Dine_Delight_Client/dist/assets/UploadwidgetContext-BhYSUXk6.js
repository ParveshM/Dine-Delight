import{r as o,j as a}from"./index-DVuvbJIy.js";const p=o.createContext(null),b=({uwConfig:l,setImageUrl:r})=>{const[t,i]=o.useState(!1),[c,s]=o.useState(!1);o.useEffect(()=>{if(!t)if(document.getElementById("uw"))i(!0);else{const e=document.createElement("script");e.setAttribute("async",""),e.setAttribute("id","uw"),e.src="https://upload-widget.cloudinary.com/global/all.js",e.addEventListener("load",()=>i(!0)),document.body.appendChild(e)}},[t]);const u=async()=>{s(!0);const n=window.cloudinary.createUploadWidget(l,(e,d)=>{!e&&d&&d.event==="success"&&r(d.info.secure_url)});t&&(await n.open(),s(!1))};return a.jsx(p.Provider,{value:{loaded:t},children:a.jsx("button",{id:"upload_widget",className:"bg-blue-500 py-1 px-4 disabled:cursor-not-allowed rounded-md text-white font-semibold shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400",type:"button",onClick:u,disabled:c,children:"Upload"})})};export{b as C};
