import{r as o,j as e,A as x}from"./index-B9ZM9xO7.js";import{a as h}from"./axiosService-CMzqa1ug.js";import{u,P as j}from"./usePaginateState-D5b6Cgt1.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./logout-IlbNoRIl.js";import"./toaster-CNrqpvc8.js";const b=({_id:c,name:a,email:r,isBlocked:l})=>{const[s,t]=o.useState(l),n=()=>{t(!s),h.patch(x+`/block_user/${c}`).catch(i=>console.log(i))};return e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a}),e.jsx("td",{className:"px-6 py-4",children:r}),e.jsx("td",{className:"px-6 py-4",children:"10"}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ml-2 ${s?"bg-red-500":"bg-green-400"}`}),e.jsx("p",{children:s?"Blocked":"Active"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:n,className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full ${s?"bg-red-500":"bg-green-500"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-white transition ${s?"translate-x-full":""}`})]})})})]})},y=()=>{const[c,a]=o.useState([]),{currentPage:r,setCurrentPage:l,pageSize:s,setPageSize:t,itemsPerPage:n,setItemsPerPage:i}=u();return o.useEffect(()=>{h.get(x+"/users",{params:{page:r}}).then(({data:d})=>{const{users:m,count:p,limit:g}=d;a(m),t(p),i(g)}).catch(d=>console.log(d))},[a,r]),{users:c,setUsers:a,setCurrentPage:l,currentPage:r,pageSize:s,itemsPerPage:n}},S=()=>{const{users:c,setCurrentPage:a,currentPage:r,pageSize:l,itemsPerPage:s}=y();return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"mb-2 text-xl font-semibold ",children:"Users"}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg custom-vh ",children:[e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Username"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"email"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Total bookings"}),e.jsx("th",{scope:"col",className:"px-8 py-3",children:"status"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:c.map(t=>o.createElement(b,{...t,key:t._id}))})]}),e.jsx(j,{currentPage:r,totalCount:l,itemsPerPage:s,onPageChange:t=>a(t)})]})]})};export{S as default};
