import{r,u as h,j as e,U as p}from"./index-DVuvbJIy.js";import{a as u}from"./axiosService-s_Z_tf5s.js";import{s as b}from"./toaster-C_Sj4jJw.js";import{s as g}from"./util-DwZE_yFy.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./logout-CuczN05Q.js";const f=({orderId:l,status:t,orderItems:s,tableNumber:c,restaurant:i})=>{const[n,m]=r.useState(!1),x=h(),d=r.useMemo(()=>s.reduce((a,o)=>a+=o.price*o.quantity,0),[s]);return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Order ID: ",l]}),e.jsxs("p",{className:" mb-4",children:[e.jsx("span",{className:"font-bold text-black",children:"Table Number:"})," ",c]}),e.jsxs("p",{className:`${g(t)} mb-4`,children:[e.jsx("span",{className:"font-bold text-black",children:"Order Status:"})," ",t]}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Total: ₹",d]}),e.jsx("ul",{className:"flex flex-col",children:(n?s:s.slice(0,4)).map((a,o)=>e.jsxs("li",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[e.jsxs("span",{className:"flex-1",children:[a.quantity,"x ",a.item.name]}),e.jsxs("span",{className:"text-gray-700",children:["₹",a.price]})]},o))}),s.length>4&&e.jsx("button",{className:"text-blue-500 mt-2 hover:underline focus:outline-none",onClick:()=>m(!n),children:n?"Show Less":"Show More"}),t!=="Completed"&&t!=="Cancelled"&&e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>x(`/menu/${i}?orderId=${l}`),children:"Order more?"})})]})},T=()=>{const[l,t]=r.useState([]);return r.useEffect(()=>{u.get(p+"/orders").then(({data:s})=>t(s.orders)).catch(()=>b("Oops! Something went wrong","error"))},[]),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Your Orders"}),e.jsx("div",{className:"grid grid-cols-1  gap-6",children:l.map(s=>r.createElement(f,{...s,key:s._id}))})]})};export{T as default};
