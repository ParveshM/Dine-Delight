import{ad as b,j as t,a3 as u,r as e,R as f,H as j}from"./index-Clsr7cZy.js";import{a as y}from"./axiosService-6jWxuYFr.js";import{s as k}from"./toaster-Cxs57kxq.js";import{C as n,a as l,B as N,D as C,R as v}from"./ReportModal-DGQL8F7T.js";import{C as R,h as S}from"./util-DhbwvL2k.js";import{B as D}from"./Button-BUT0Crsf.js";import{R as B}from"./ReservationTableData-BjoducWw.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./logout-D3s9NhJa.js";import"./Set_GetLs-jfIHgayU.js";import"./formik.esm-Dt9TmMOy.js";import"./index-BHVJx1gZ.js";import"./index.esm-CyhFtDQD.js";import"./chevron-down-D7Ovsuvo.js";import"./square-pen-CZq5Absa.js";n.register(l);const w=({data:s})=>{const r={labels:b,datasets:[{label:"Monthly Revenue",data:R(s),fill:!0,backgroundColor:"rgba(59, 130, 246, 0.08)",borderColor:"rgb(99, 102, 241)",borderWidth:2,tension:0,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:"rgb(99, 102, 241)"}]};return t.jsx(N,{className:"mt-2",data:r,options:{layout:{padding:20},scales:{y:{beginAtZero:!0,grid:{drawOnChartArea:!0}}},plugins:{title:{display:!0,text:"Monthly profit "},legend:{display:!1}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1}})};n.register(l);const A=({data:s})=>{const r={labels:u,datasets:[{label:"Booking Status",data:S(s),backgroundColor:["rgba(245, 158, 11, 0.6)","rgba(16, 185, 129, 0.6)","rgba(239, 68, 68, 0.6)","rgba(59, 130, 246, 0.6)","rgba(107, 114, 128, 0.6)","rgba(99, 102, 241, 0.6)"],borderColor:"black",borderWidth:1}]};return t.jsx(C,{className:"mt-2",data:r,options:{plugins:{title:{display:!0,text:"Booking Statistics"}},layout:{padding:20}}})},G=()=>{const[s,r]=e.useState([]),[d,c]=e.useState([]),[o,g]=e.useState([]),[m,i]=e.useState(!1);return e.useEffect(()=>{y.get(f+"/dashboard").then(({data:a})=>{const{graphData:p,bookings:h,bookingStatistics:x}=a;r(p),g(h),c(x)}).catch(()=>{k("Oops! Something went wrong","error")})},[]),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("h1",{className:"text-2xl   font-bold",children:"Dashboard"}),t.jsx(D,{label:"Create Report",className:"bg-green-600 hover:bg-green-700 ",handleButtonclick:()=>i(!0)})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-5 place-content-around bg-gray-50 rounded-md ",children:[t.jsx("div",{className:"col-span-2 md:col-span-1   md:h-[400px]  rounded-lg flex justify-center items-center",children:t.jsx(w,{data:s})}),t.jsx("div",{className:"col-span-2 md:col-span-1 md:h-[400px] rounded-lg flex justify-center items-center",children:t.jsx(A,{data:d})})]}),t.jsxs("div",{className:"mt-8 py-2",children:[t.jsx("div",{className:"flex justify-between px-2",children:t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Recent Bookings"})}),t.jsx("div",{className:" overflow-x-auto shadow-md sm:rounded-lg min-h-28  ",children:t.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[t.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:t.jsx("tr",{children:j.map(a=>t.jsx("th",{scope:"col",className:"px-6 py-3",children:a.label},a.key))})}),t.jsx("tbody",{children:o.length?t.jsx(t.Fragment,{children:o.map(a=>e.createElement(B,{...a,key:a._id}))}):t.jsx("tr",{children:t.jsx("td",{children:"No booking found"})})})]})})]}),m&&t.jsx(v,{isModalOpen:i})]})};export{G as default};
