import{r as n,R as u,j as e,H as j}from"./index-DVuvbJIy.js";import{R as v}from"./ReservationTableData-DZr-jZz7.js";import{a as f}from"./axiosService-s_Z_tf5s.js";import{s as b}from"./toaster-C_Sj4jJw.js";import{u as P,P as C}from"./usePaginateState-DZU7V_Bg.js";import{C as y}from"./chevron-down-CtVdIlMT.js";import"./util-DwZE_yFy.js";import"./square-pen-CnfOWaPo.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./logout-CuczN05Q.js";const N=()=>{const[a,i]=n.useState([]),[r,l]=n.useState(null),{currentPage:s,setCurrentPage:o,pageSize:t,setPageSize:c,itemsPerPage:d,setItemsPerPage:m}=P();return n.useEffect(()=>{f.get(u+"/bookings",{params:{status:r,page:s}}).then(({data:x})=>{const{reservations:g,count:h,limit:p}=x;i(g),c(h),m(p)}).catch(()=>b("something went wrong while fetching reservations","error"))},[s,r]),{bookings:a,setSelectedStatus:l,setCurrentPage:o,currentPage:s,pageSize:t,itemsPerPage:d}},_=()=>{const{bookings:a,setSelectedStatus:i,itemsPerPage:r,pageSize:l,currentPage:s,setCurrentPage:o}=N();return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"mb-2 text-xl font-semibold ",children:"Reservations"}),e.jsxs("div",{className:"relative flex justify-end mb-2",children:[e.jsxs("select",{className:"block appearance-none bg-white border border-gray-300 text-sm py-1 px-2 pr-8 rounded-md focus:outline-none focus:border-blue-500",onChange:t=>{i(t.target.value),o(1)},defaultValue:"",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Confirmed",children:"Confirmed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"}),e.jsx("option",{value:"Checked-in",children:"Checked-in"}),e.jsx("option",{value:"No-show",children:"No-show"}),e.jsx("option",{value:"Completed",children:"Completed"})]}),e.jsx("div",{className:"absolute top-1 right-0 flex items-center px-2 pointer-events-none",children:e.jsx(y,{})})]}),e.jsxs("div",{className:" overflow-x-auto shadow-md sm:rounded-lg custom-vh",children:[e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsx("tr",{children:j.map(t=>e.jsx("th",{scope:"col",className:"px-6 py-3",children:t.label},t.key))})}),e.jsx("tbody",{children:a.length?e.jsx(e.Fragment,{children:a.map(t=>n.createElement(v,{...t,key:t._id}))}):e.jsx("tr",{children:e.jsx("td",{className:" text-xl font-semibold  text-center mt-2 ",children:"No Reservations"})})})]}),e.jsx(C,{currentPage:s,totalCount:l,itemsPerPage:r,onPageChange:t=>o(t)})]})]})};export{_ as default};
