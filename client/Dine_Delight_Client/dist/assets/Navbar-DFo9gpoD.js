import{k as f,j as e,L as p,d as y,r as n,$ as v,a0 as j,f as u,a1 as w,a2 as k}from"./index-DLCA8CUi.js";import{l as N}from"./logo_copy-x91kgQhH.js";import{A as L,g as C,M as S}from"./reverseGeocode-Ba47HzVd.js";import{b as I}from"./util-D-aj_Cqt.js";import{C as D}from"./chevron-down-BMkYRQSZ.js";/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=f("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),x=({to:r,label:t})=>e.jsx("li",{className:"relative",children:e.jsxs(p,{to:r,className:"block text-orange-400 font-medium group py-2 px-3 transition duration-300  rounded hover:bg-gray-100 md:hover:bg-transparent  md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:[t,e.jsx("span",{className:"block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-orange-500"})]})}),z=({handleSidebarOpen:r})=>{const t=y(),[s,l]=n.useState({searchLocation:"",location:{type:"",coordinates:[]}});n.useEffect(()=>{s.location.coordinates.length&&(r(),t(v({location:{type:"Point",coordinates:s.location.coordinates}})))},[s.location]);const i=o=>l(c=>({...c,[o.target.name]:o.target.value}));return e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 z-[998]",children:e.jsxs("div",{className:"fixed top-[72px] left-64 z-[999] w-64 h-screen p-4 overflow-y-auto transition-transform -translate-x-full bg-white bg-opacity-100 dark:bg-gray-800",tabIndex:-1,"aria-labelledby":"drawer-navigationLabel",children:[e.jsx("h5",{id:"drawer-navigationLabel",className:"text-base font-semibold text-gray-500 uppercase dark:text-gray-400",children:"Search by location"}),e.jsxs("button",{type:"button","data-drawer-hide":"drawer-navigation","aria-controls":"drawer-navigation",onClick:r,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 roundedLg text-sm p-1.5 absolute top-2.5 end-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close menu"})]}),e.jsxs("div",{className:"p-2 overflow-y-auto",children:[e.jsx(L,{handleManualInputChange:i,searchLocation:s.searchLocation,setFormData:l}),e.jsx("button",{className:"px-3 py-2 font-medium bg-gray-200 text-gray-600 rounded hover:bg-gray-300",onClick:()=>{t(j()),r()},children:"Clear"})]})]})})},B=()=>{const[r,t]=n.useState(!1),[s,l]=n.useState(!1),i=u(a=>a.UserSlice),o=u(a=>{var d,h;return(h=(d=a.LocationSlice)==null?void 0:d.location)==null?void 0:h.coordinates}),[c,m]=n.useState(null);n.useEffect(()=>{o.length?C(o[0],o[1]).then(a=>{m(I(a))}).catch(a=>console.error(a)):m(null)},[o[0]]);const g=()=>{l(!s),t(!1)},b=w();return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-[999] bg-white border-gray-200 dark:bg-gray-900 shadow-md rounded-md ",children:e.jsxs("div",{className:" max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx(p,{to:"/",children:e.jsx("img",{src:N,className:"h-10",alt:"Dine delight Logo"})}),b.pathname==="/"&&e.jsx("button",{className:" hover:text-orange-400 inline-flex items-center text-sm",onClick:g,children:c?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:c}),e.jsx(D,{})]}):e.jsx(S,{})})]}),e.jsx("div",{className:"flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse",children:e.jsx(M,{className:"inline-flex items-center cursor-pointer p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",onClick:()=>{t(!r),l(!1)}})}),e.jsx("div",{className:`items-center justify-between ${r?"block":"hidden"} w-full md:flex md:w-auto md:order-1`,children:e.jsxs("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[k.map((a,d)=>e.jsx(x,{to:a.to,label:a.label},d)),i.role==="user"?e.jsx(x,{to:"/profile",label:i.name??"Unknown"}):e.jsx(x,{to:"/user/auth/login",label:"Login"})]})})]})}),s&&e.jsx(z,{handleSidebarOpen:g})]})};export{B as N};
